<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title>Zabon</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- ====================  Content‑Security‑Policy  ==================== -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'self' 'unsafe-inline' http: https: data: blob: ws:;
        script-src  'self' 'unsafe-inline' http: https:;
        style-src   'self' 'unsafe-inline' http: https:;
        img-src     'self' data: http: https: blob:;
        connect-src 'self' http: https: ws:;
        font-src    'self' data: http: https:;
    ">

    <!-- Your stylesheet (now allowed by the CSP) -->
    <link rel="stylesheet" href="app.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- External script you already use (still allowed) -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.5.0/dist/purify.min.js"></script>

    <!-- Bootstrap the app (module script) -->
    <script type="module">
        import { applySavedTheme } from '/app/utils/theme.js';
        applySavedTheme();   // runs before any body content is painted
    </script>

    <!-- ==============================================================
         ① Load DOMPurify (no integrity hash – safest for now)
         ============================================================== -->
    <script src="https://cdn.jsdelivr.net/npm/dompurify@2.5.0/dist/purify.min.js"></script>

</head>

<body>
    <!-- The SPA will inject everything into <body> -->
    <!-- ABSOLUTE path – the leading slash prevents the “/en/app/main.js” problem -->
    <script type="module" src="/app/bootstrap.js"></script>
</body>

</html>